<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">

<style>
    input[type="text"], textarea {
        background-color: #E1E0E0;
    }

    input[type=submit] {
        border-radius: 5px;
        border: 0;
        width: 80px;
        height: 25px;
        font-family: Tahoma;
        background: #f4f4f4;
        /* Old browsers */
        background: -moz-linear-gradient(top, #f4f4f4 1%, #ededed 100%);
        /* FF3.6+ */
        background: -webkit-gradient(linear, left top, left bottom, color-stop(1%, #f4f4f4), color-stop(100%, #ededed));
        /* Chrome,Safari4+ */
        background: -webkit-linear-gradient(top, #f4f4f4 1%, #ededed 100%);
        /* Chrome10+,Safari5.1+ */
        background: -o-linear-gradient(top, #f4f4f4 1%, #ededed 100%);
        /* Opera 11.10+ */
        background: -ms-linear-gradient(top, #f4f4f4 1%, #ededed 100%);
        /* IE10+ */
        background: linear-gradient(to bottom, #f4f4f4 1%, #ededed 100%);
        /* W3C */
        filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#f4f4f4', endColorstr='#ededed', GradientType=0);
        /* IE6-9 */

    }

    .update {
        padding-right: 2cm;
    }

    .message {
    padding-top: 20px;
    color: cornsilk  ;
    font-size: xx-large;
    padding-right: 20cm;
    }



</style>

<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/testMenuStyle.css}">
    <script
            src="https://code.jquery.com/jquery-3.3.1.js"
            integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
            crossorigin="anonymous"></script>

</head>
<body>


<nav class='animated bounceInDown'>
    <ul>
        <li class='sub-menu'>
            <a href='#selectTest'>
                <div class='fa fa-gear'></div>
                Select Test
                <div class='fa fa-caret-down right'></div>
            </a>
            <ul >

                <li class="sub-menu" >
                    <a href='#topic'>
                        <div class='fa fa-gear'></div>
                        Topics:
                        <div class='fa fa-caret-down right' ></div>
                    </a>

                    <ul  id='topicMenu'>
                   </ul>

                </li>
            </ul>
        </li>


        <li>
            <a href="/user/profile"/>
            <div class='fa fa-sign-out'></div>
            Go To Profile
            </a>
            </form>
        </li>

    </ul>
</nav>
<script>

    $('.sub-menu ul').hide();
    $(".sub-menu a").click(function () {
        $(this).parent(".sub-menu").children("ul").slideToggle("100");
        $(this).find(".right").toggleClass("fa-caret-up fa-caret-down");
    });


 $.get('/topic/all', function (categories) {
        loadCategories(categories);
    });


  function loadCategories(array) {
       let main = $("#topicMenu");

      for(let i=0;i<array.length;i++) {
        main.append($("<li>")
        .append("<a href='/test/menu/" + array[i].id + "'><span>" + array[i].topicName + "</span></a>"));

        }
   }

</script>
</body>
</html>