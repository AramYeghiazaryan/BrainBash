<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">

<style>
    input[type="text"], textarea {
        background-color: #E1E0E0;
    }

    input[type=submit] {
        border-radius: 5px;
        border: 0;
        width: 80px;
        height: 25px;
        font-family: Tahoma;
        background: #f4f4f4;
        /* Old browsers */
        background: -moz-linear-gradient(top, #f4f4f4 1%, #ededed 100%);
        /* FF3.6+ */
        background: -webkit-gradient(linear, left top, left bottom, color-stop(1%, #f4f4f4), color-stop(100%, #ededed));
        /* Chrome,Safari4+ */
        background: -webkit-linear-gradient(top, #f4f4f4 1%, #ededed 100%);
        /* Chrome10+,Safari5.1+ */
        background: -o-linear-gradient(top, #f4f4f4 1%, #ededed 100%);
        /* Opera 11.10+ */
        background: -ms-linear-gradient(top, #f4f4f4 1%, #ededed 100%);
        /* IE10+ */
        background: linear-gradient(to bottom, #f4f4f4 1%, #ededed 100%);
        /* W3C */
        filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#f4f4f4', endColorstr='#ededed', GradientType=0);
        /* IE6-9 */

    }

    .update {
        padding-right: 2cm;
    }

    .message {
    padding-top: 20px;
    color: cornsilk  ;
    font-size: xx-large;
    padding-right: 20cm;
    }



    .container {
      width: 200px;
      height: 100%;
      margin: 0 auto 0;
      -webkit-perspective: 1000;
      -webkit-backface-visibility: hidden;
      background: #fff;
    }

  .pulse-button {
    position: relative;
    top: 50%;
    left: 85%;
    margin-left: 0;
    margin-top: 0;
    display: block;
    width: 100px;
    height: 100px;
    font-size: 1.3em;
    font-weight: light;
    font-family: 'Trebuchet MS', sans-serif;
    text-transform: uppercase;
    text-align: center;
    line-height: 100px;
    letter-spacing: -1px;
    color: white;
    border: none;
    border-radius: 50%;
    background:  #3498db;
    cursor: pointer;
    box-shadow: 0 0 0 0 rgba(90, 153, 212, 0.5);
    -webkit-animation: pulse 1.5s infinite;
  }

    .pulse-button:hover {
      -webkit-animation: none;
    }

    @-webkit-keyframes pulse {
      0% {
        -moz-transform: scale(0.9);
        -ms-transform: scale(0.9);
        -webkit-transform: scale(0.9);
        transform: scale(0.9);
      }
      70% {
        -moz-transform: scale(1);
        -ms-transform: scale(1);
        -webkit-transform: scale(1);
        transform: scale(1);
        box-shadow: 0 0 0 50px rgba(90, 153, 212, 0);
      }
      100% {
        -moz-transform: scale(0.9);
        -ms-transform: scale(0.9);
        -webkit-transform: scale(0.9);
        transform: scale(0.9);
        box-shadow: 0 0 0 0 rgba(90, 153, 212, 0);
      }
    }



</style>

<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/profileStyle.css}">
    <script
            src="https://code.jquery.com/jquery-3.3.1.js"
            integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
            crossorigin="anonymous"></script>

</head>
<body>

 <div class="message">
     <span th:if="${message != null }">Wrong Email Address</span>
    </div>

<nav class='animated bounceInDown'>
    <ul>
        <li class='sub-menu'>
            <a href='#profile'>
                <div class='fa fa-gear'></div>
                        <label class='badge right' th:text="${user.surname}"/>
                Profile <label class='badge right' th:text="${user.name}"/>
                <div class='fa fa-caret-down right'></div>
            </a>
            <ul>

                <li class='sub-menu'>
                    <a href='#usernameSettings'>
                        <div class='fa fa-gear'></div>
                        Name:
                        <label class='badge right' th:name="name" type="text" th:text="${user.name}"/>
                        <div class='fa fa-caret-down right'></div>
                    </a>
                    <ul>
                        <li>
                            <a href='#usernameSettings'>
                                <form th:action="@{/user/username}" method="post">
                                    <input type="text" name="name" value=""/>
                                    <input type="submit" value="Update"/>
                                </form>
                            </a>
                        </li>
                    </ul>
                </li>

                <li class='sub-menu'>
                    <a href='#surnameSettings'>
                        <div class='fa fa-gear'></div>
                        Surname:
                        <label class='badge right' th:name="surname" type="text" th:text="${user.surname}"/>
                        <div class='fa fa-caret-down right'></div>
                    </a>
                    <ul>
                        <li>
                            <a href='#surnameSettings'>
                                <form th:action="@{/user/surname}" method="post">
                                    <input type="text" name="surname" value=""/>
                                    <input type="submit" value="Update"/>
                                </form>
                            </a>
                        </li>
                    </ul>
                </li>
                <li class='sub-menu'>
                    <a href='#nicknameSettings'>
                        <div class='fa fa-gear'></div>
                        Nickname:
                        <label class='badge right' th:name="nickname" type="text" th:text="${user.nickname}"/>
                        <div class='fa fa-caret-down right'></div>
                    </a>
                    <ul>
                        <li>
                            <a href='#nicknameSettings'>
                                    <form th:action="@{/user/nickname} " method="post">
                                        <input type="text" name="nickname" value=""/>
                                        <input type="submit" value="Update"/>
                                    </form>
                            </a>
                        </li>
                    </ul>
                </li>

                  <li class='sub-menu'>
                                    <a href='#emailSettings'>
                                        <div class='fa fa-gear'></div>
                                        Email
                                        <label class='badge right' th:name="email" type="text" th:text="${user.email}"/>
                                        <div class='fa fa-caret-down right'></div>
                                    </a>

                                    <ul>
                                        <li>
                                            <a href='#email'>
                                                <form th:action="@{/user/email}" method="post">
                                                    <input type="text" name="email" value=""/>
                                                    <input type="submit" value="Update"/>
                                                </form>
                                            </a>
                                        </li>
                                    </ul>

                                </li>

                <li class='sub-menu'>
                    <a href='#passwordSettings'>
                        <div class='fa fa-gear'></div>
                        Change Password:
                        <label th:name="password" type="text" />
                        <div class='fa fa-caret-down right'></div>
                    </a>
                    <ul>
                        <li>
                            <a href='#passwordSettings'>
                                <form th:action="@{/user/password}" method="post">
                                    <input type="text" name="password" value=""/>
                                    <input type="submit" value="Update"/>
                                </form>
                            </a>
                        </li>
                    </ul>
                </li>


                <li class='sub-menu'>
                    <a href='#deleteSettings'>
                        <div class='fa fa-gear'></div>
                        Delete Account:
                        <label th:name="deleteAccount"/>
                        <div class='fa fa-caret-down right'></div>
                    </a>
                    <ul>
                        <li>
                            <a href='#delete'>
                                Re-enter
                                <form th:action="@{/user/question}" method="post">
                                    <input type="email" name="delete"  placeholder="name$example.com"/>
                                    <input type="submit" class="button_active" value="Delete"/>
                                </form>
                            </a>
                        </li>
                    </ul>
                </li>

            </ul>
        </li>
        <li class='sub-menu'>
            <a href='#history'>
                <div class='fa fa-question-circle'></div>
                History
                <div class='fa fa-caret-down right'></div>
            </a>
            <ul>
                <li>
                    <a href='/history/pastList'>
                        Finished Tests
                    </a>
                </li>
                <li>
                    <a href='/history/future'>
                        Upcoming Tests
                    </a>
                </li>
                <li>
                    <a href='/history/allHistory'>
                        All History
                    </a>
                </li>
            </ul>
        </li>

        <li>
            <a href='/test/menu'> <!-- REDIRECT TO Test -->
                <div class='fa fa-envelope'></div>
                Test
            </a>
        </li>
        <li>
            <a href='#score'> <!-- REDIRECT TO AVG SCore -->
                <div class='fa fa-envelope'></div>
                Score
            </a>
        </li>

        <li>
          <a href="/animation">
           <div class='fa fa-sign-out'></div>
              Visit Me !!!
            </a>
        </li>

        <li>
            <a href="/logout">
            <div class='fa fa-sign-out'></div>
            Logout
            </a>
        </li>
    </ul>




</nav>

<a href="/user/admin"class='container' id="togglee" >
           <span class='pulse-button'>Admin</span>
        </a>

<script>

     $.post('/user/role', function (user) {
               action(user)
           });

    let hidden = true;

    function action(user) {
        console.log(user);
       for(let i=0;i<user.role.length;i++){
          if(user.role[i]==="ADMIN"){
              hidden=false;
          }
       }
        if(hidden) {
            document.getElementById('togglee').style.visibility = 'hidden';
        } else {
            document.getElementById('togglee').style.visibility = 'visible';
        }
    }

</script>

<script>
    $('.sub-menu ul').hide();
    $(".sub-menu a").click(function () {
        $(this).parent(".sub-menu").children("ul").slideToggle("100");
        $(this).find(".right").toggleClass("fa-caret-up fa-caret-down");
    });
</script>
</body>
</html>